apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: tekton-https
  namespace: traefik
spec:
  entryPoints:
    - websecure
  routes:
    - kind: Rule
      match: Host(`gdtek.goyoai.com`)
      priority: 10
      services:
        - name: tekton-dashboard
          namespace: tekton-pipelines
          port: 9097

    - kind: Rule
      match: Host(`gdtek.goyoai.com`)  && PathPrefix(`/grpc`)
      priority: 12
      services:
        - name: tekton-dashboard
          namespace: tekton-pipelines
          port: 9097
          scheme: h2c

    - kind: Rule
      match: Host(`gdwaiserverdev.goyoai.com`)
      services:
        - name: el-goyoai-ai-server
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdwbackdev.goyoai.com`)
      priority: 14
      services:
        - name: el-gointern-backend
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdwbackportalschedulerdev.goyoai.com`)
      priority: 20
      services:
        - name: el-goyoai-web-back-portal-scheduler
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdwbackportaldev.goyoai.com`)
      priority: 14
      services:
        - name: el-goyoai-web-back-portal
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdwfrontdev.goyoai.com`)
      priority: 16
      services:
        - name: el-gointern-frontend-web
          namespace: tekton-pipelines
          port: 8080

    # - kind: Rule
    #   match: Host(`gdwhomepage.goyoai.com`)
    #   priority: 20
    #   services:
    #     - name: el-goyoai-web-page
    #       namespace: tekton-pipelines
    #       port: 8080 

    - kind: Rule
      match: Host(`rmstrg.bbrick.com`)
      priority: 20
      services:
        - name: el-rms
          namespace: tekton-pipelines
          port: 8080
          
    - kind: Rule
      match: Host(`gdbstrg.goyoai.com`)
      priority: 20
      services:
        - name: el-gointern
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdbsptrg.goyoai.com`)
      priority: 20
      services:
        - name: el-goyoai-backend-portal-system
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdfstrg.goyoai.com`)
      priority: 20
      services:
        - name: el-goyoai-frontend-system
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdbsystemstrg.goyoai.com`)
      priority: 20
      services:
        - name: el-goyoai-backend-system
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdfewebtrg.goyoai.com`)
      priority: 20
      services:
        - name: el-goyoai-frontend-web
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdaiapitrg.goyoai.com`)
      priority: 20
      services:
        - name: el-goyoai-ai-server
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdfbackofficetrg.goyoai.com`)
      priority: 20
      services:
        - name: el-gointern-front-backoffice
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdaifybacktrg.goyoai.com`)
      priority: 20
      services:
        - name: el-aify-backend
          namespace: tekton-pipelines
          port: 8080

    - kind: Rule
      match: Host(`gdevstockweb.goyoai.com`)
      priority: 20
      services:
        - name: el-goyoai-stock-web
          namespace: tekton-pipelines
          port: 8080

  tls: 
    secretName: tekton-pipelines-tls

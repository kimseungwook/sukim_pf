apiVersion: traefik.io/v1alpha1
kind: IngressRouteTCP
metadata:
  name: aify-redis-tcp
  namespace: traefik
spec:
  entryPoints:
    - aify-redis-tcp # Traefik에 aify-redis-tcp entryPoint가 정의되어 있어야 함
  routes:
    - match: "HostSNI(`*`)" # TCP 라우팅은 SNI 매칭 사용
      # kind: Rule
      services:
        - name: aify-ai-server-redis-master
          namespace: redis
          port: 6379
  # tls:  # TLS 설정 추가
  #   passthrough: true  # TLS 연결을 그대로 통과
expose:
  type: ingress
  tls:
    enabled: true
    certSource: secret
    auto:
      commonName: "harbor.8ai.store"
    secret:
      secretName: "harbor-tls"
  ingress:
    hosts:
      core: harbor.8ai.store
    className: "gointern-backoffice-traefik"
  # ClusterIP 서비스 추가 설정
  clusterIP:
    name: harbor-internal
    ports:
      httpPort: 80
      httpsPort: 443

externalURL: https://harbor.8ai.store
# internalTLS:
#   enabled: true
#   certSource: "auto"

persistence:
  enabled: true
  resourcePolicy: "keep"

  imageChartStorage:
    disableredirect: false
    type: s3
    s3:
      # OCI Object Storage는 S3 호환이지만 표준 AWS 리전 코드 필요
      region: ap-seoul-1
      bucket: harbor-bucket-sukim

      # S3 credentials from Secret
      existingSecret: "harbor-secrets"

      secure: true
      regionendpoint: cn7ipyag4bte.compat.objectstorage.ap-seoul-1.oraclecloud.com


commonSettings: &commonSettings
  nodeSelector:
    service: tools
    kubernetes.io/arch: amd64

database:
  internal:
    image:
      repository: docker.io/goharbor/harbor-db
      tag: v2.14.0
    # Database password from Secret
    existingSecret: "harbor-secrets"
    <<: *commonSettings

redis:
  internal:
    image:
      repository: docker.io/goharbor/redis-photon
      tag: v2.14.0
    <<: *commonSettings

portal:
  image:
    repository: docker.io/goharbor/harbor-portal
    tag: v2.14.0
  <<: *commonSettings

core:
  image:
    repository: docker.io/goharbor/harbor-core
    tag: v2.14.0
  <<: *commonSettings

jobservice:
  image:
    repository: docker.io/goharbor/harbor-jobservice
    tag: v2.14.0
  <<: *commonSettings

registry:
  registry:
    image:
      repository: docker.io/goharbor/registry-photon
      tag: v2.14.0
  controller:
    image:
      repository: docker.io/goharbor/harbor-registryctl
      tag: v2.14.0
  credentials:
    # Registry credentials from Secret
    existingSecret: "harbor-secrets"
    username: "goyoai_harbor"
  <<: *commonSettings

trivy:
  image:
    repository: docker.io/goharbor/trivy-adapter-photon
    tag: v2.14.0
  <<: *commonSettings

nginx:
  <<: *commonSettings

logLevel: debug
# Secret key and admin password from Secret
existingSecretSecretKey: "harbor-secrets"
existingSecretAdminPassword: "harbor-secrets"
existingSecretAdminPasswordKey: "HARBOR_ADMIN_PASSWORD"